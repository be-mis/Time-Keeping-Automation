
<h1>Printer Logs</h1>

<form method="GET">
    <label for="choice">Select View:</label>
    <select name="choice" id="choice">
        <option value="detailed" {% if request.GET.choice == "detailed" %}selected{% endif %}>Detailed</option>
        <option value="summary" {% if request.GET.choice == "summary" %}selected{% endif %}>Summary</option>
    </select>
    <button type="submit">Submit</button>
</form>

{% if error %}
    <p style="color: red;">{{ error }}</p>
{% else %}
    <p>Total Print Pages: {{ total_pages }}</p>

    <table border="1" cellpadding="5" cellspacing="0">
        <thead>
            <tr>
                <th>User Name</th>
                {% if grouped_data.0.Date %}
                    <th>Date</th>
                {% endif %}
                <th>Print Pages</th>
            </tr>
        </thead>
        <tbody>
            {% for data in grouped_data %}
            <tr>
                <td>{{ data.User_Name }}</td>
                {% if data.Date %}
                    <td>{{ data.Date }}</td>
                {% endif %}
                <td>{{ data.Print_Pages }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
